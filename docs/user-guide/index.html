<!doctype html>
<html>
  <head>
    <title>DrawPDF - Interactive Tutorial</title>
    <meta charset="utf-8" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"
    />
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        background: #f0f2f5;
        overflow: hidden;
      }

      /* Left Panel: Tutorial Feed */
      .tutorial-feed {
        width: 45%;
        min-width: 400px;
        background: white;
        border-right: 1px solid #ddd;
        display: flex;
        flex-direction: column;
        overflow-y: auto;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.05);
        padding-bottom: 50px;
      }

      .header-hero {
        background: #2c3e50;
        color: white;
        padding: 30px 20px;
        text-align: center;
      }
      .header-hero h1 {
        margin: 0;
        font-size: 1.5rem;
      }
      .header-hero p {
        margin: 5px 0 0;
        opacity: 0.8;
      }

      .tutorial-step {
        padding: 25px;
        border-bottom: 1px solid #eee;
        transition: background 0.2s;
      }
      .tutorial-step:hover {
        background: #fcfcfc;
      }

      .step-title {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }
      .step-number {
        background: #007bff;
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 10px;
        font-size: 14px;
      }
      .step-name {
        font-weight: bold;
        font-size: 1.1rem;
        color: #333;
      }

      .step-desc {
        color: #666;
        line-height: 1.5;
        margin-bottom: 15px;
        font-size: 0.95rem;
      }

      .code-block {
        position: relative;
        margin-bottom: 15px;
        border-radius: 6px;
        overflow: hidden;
      }

      .run-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #28a745;
        color: white;
        border: none;
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        font-size: 12px;
        display: flex;
        align-items: center;
        gap: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: transform 0.1s;
      }
      .run-btn:hover {
        background: #218838;
        transform: translateY(-1px);
      }
      .run-btn:active {
        transform: translateY(0);
      }
      .run-btn.done {
        background: #6c757d;
        cursor: default;
      }

      /* Right Panel: Live Editor */
      .editor-container {
        flex: 1;
        padding: 20px;
        background: #e9ecef;
        display: flex;
        flex-direction: column;
      }

      .preview-label {
        margin-bottom: 10px;
        font-weight: bold;
        color: #555;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      #editor {
        flex: 1;
        background: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 4px;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <!-- Left: Tutorial Feed -->
    <div class="tutorial-feed">
      <div class="header-hero">
        <h1>üéì H∆∞·ªõng D·∫´n T∆∞∆°ng T√°c</h1>
        <p>V·ª´a h·ªçc code, v·ª´a xem k·∫øt qu·∫£ tr·ª±c ti·∫øp</p>
      </div>

      <!-- Step 1 -->
      <div class="tutorial-step">
        <div class="step-title">
          <div class="step-number">1</div>
          <div class="step-name">Header H√†nh Ch√≠nh</div>
        </div>
        <div class="step-desc">
          Trong c√°c vƒÉn b·∫£n h√†nh ch√≠nh Vi·ªát Nam, ph·∫ßn Header th∆∞·ªùng chia l√†m 2
          c·ªôt: T√™n c∆° quan v√† Qu·ªëc hi·ªáu.<br />
          ƒêo·∫°n code HTML d∆∞·ªõi ƒë√¢y s·ª≠ d·ª•ng <code>table</code> kh√¥ng vi·ªÅn ƒë·ªÉ cƒÉn
          ch·ªânh layout n√†y.
        </div>
        <div class="code-block">
          <button class="run-btn" onclick="runStep(this, 'header')">
            ‚ñ∂ RUN
          </button>
          <pre><code class="language-html">&lt;!-- Header 2 C·ªôt --&gt;
&lt;table style="width:100%; border:none;"&gt;
  &lt;tr&gt;
    &lt;td style="text-align:center; width:40%;"&gt;
      &lt;strong&gt;C√îNG TY ABC&lt;/strong&gt;&lt;br&gt;
      S·ªë: 01/BC-2026
      &lt;hr style="width:30%;"&gt;
    &lt;/td&gt;
    &lt;td style="text-align:center; width:60%;"&gt;
      &lt;strong&gt;C·ªòNG H√íA X√É H·ªòI CH·ª¶ NGHƒ®A VI·ªÜT NAM&lt;/strong&gt;&lt;br&gt;
      &lt;em&gt;ƒê·ªôc l·∫≠p - T·ª± do - H·∫°nh ph√∫c&lt;/em&gt;
      &lt;hr style="width:20%;"&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;</code></pre>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="tutorial-step">
        <div class="step-title">
          <div class="step-number">2</div>
          <div class="step-name">Ti√™u ƒê·ªÅ VƒÉn B·∫£n</div>
        </div>
        <div class="step-desc">
          Ti√™u ƒë·ªÅ ch√≠nh c·∫ßn n·ªïi b·∫≠t, cƒÉn gi·ªØa v√† th∆∞·ªùng vi·∫øt hoa. Ch√∫ng ta d√πng
          th·∫ª <code>h1</code> ho·∫∑c <code>h2</code> v·ªõi style cƒÉn gi·ªØa.
        </div>
        <div class="code-block">
          <button class="run-btn" onclick="runStep(this, 'title')">
            ‚ñ∂ RUN
          </button>
          <pre><code class="language-html">&lt;div style="text-align:center; margin: 30px 0;"&gt;
    &lt;h1 style="color:#2c3e50;"&gt;B√ÅO C√ÅO DOANH THU&lt;/h1&gt;
    &lt;em&gt;(Qu√Ω I nƒÉm 2026)&lt;/em&gt;
&lt;/div&gt;</code></pre>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="tutorial-step">
        <div class="step-title">
          <div class="step-number">3</div>
          <div class="step-name">N·ªôi Dung & Danh S√°ch</div>
        </div>
        <div class="step-desc">
          S·ª≠ d·ª•ng c√°c th·∫ª paragraph <code>p</code> v√† danh s√°ch
          <code>ul/li</code> ƒë·ªÉ tr√¨nh b√†y n·ªôi dung chi ti·∫øt r√µ r√†ng.
        </div>
        <div class="code-block">
          <button class="run-btn" onclick="runStep(this, 'content')">
            ‚ñ∂ RUN
          </button>
          <pre><code class="language-html">&lt;h3&gt;I. T√¨nh H√¨nh Chung&lt;/h3&gt;
&lt;p&gt;Trong qu√Ω v·ª´a qua, c√¥ng ty ƒë√£ ƒë·∫°t ƒë∆∞·ª£c nhi·ªÅu th√†nh t·ª±u:&lt;/p&gt;
&lt;ul&gt;
    &lt;li&gt;Doanh s·ªë tƒÉng tr∆∞·ªüng &lt;strong&gt;15%&lt;/strong&gt;.&lt;/li&gt;
    &lt;li&gt;M·ªü r·ªông th√™m &lt;u&gt;2 chi nh√°nh&lt;/u&gt; m·ªõi.&lt;/li&gt;
    &lt;li&gt;Tuy·ªÉn d·ª•ng th√™m 50 nh√¢n s·ª±.&lt;/li&gt;
&lt;/ul&gt;</code></pre>
        </div>
      </div>

      <!-- Step 4 -->
      <div class="tutorial-step">
        <div class="step-title">
          <div class="step-number">4</div>
          <div class="step-name">B·∫£ng Bi·ªÉu (Table)</div>
        </div>
        <div class="step-desc">
          ƒê·ªÉ hi·ªán th·ªã d·ªØ li·ªáu, <code>table</code> v·ªõi
          <code>border-collapse: collapse</code> l√† l·ª±a ch·ªçn t·ªët nh·∫•t ƒë·ªÉ render
          ƒë·∫πp khi xu·∫•t PDF.
        </div>
        <div class="code-block">
          <button class="run-btn" onclick="runStep(this, 'table')">
            ‚ñ∂ RUN
          </button>
          <pre><code class="language-html">&lt;h3&gt;II. S·ªë Li·ªáu Chi Ti·∫øt&lt;/h3&gt;
&lt;table border="1" style="width:100%; border-collapse:collapse; text-align:center;"&gt;
    &lt;tr style="background:#f2f2f2; font-weight:bold;"&gt;
        &lt;td&gt;Th√°ng&lt;/td&gt;&lt;td&gt;Doanh Thu ($)&lt;/td&gt;&lt;td&gt;Tr·∫°ng Th√°i&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;01/2026&lt;/td&gt;&lt;td&gt;50,000&lt;/td&gt;&lt;td&gt;ƒê·∫°t&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;02/2026&lt;/td&gt;&lt;td&gt;65,000&lt;/td&gt;&lt;td&gt;V∆∞·ª£t&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;</code></pre>
        </div>
      </div>

      <div style="text-align: center; padding: 20px">
        <button
          onclick="resetEditor()"
          style="
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
          "
        >
          ‚Ü∫ Reset Editor
        </button>
      </div>
    </div>

    <!-- Right: Live Editor -->
    <div class="editor-container">
      <div class="preview-label">
        <span>LIVE PREVIEW</span>
        <span style="font-size: 12px; font-weight: normal"
          >K·∫øt qu·∫£ hi·ªÉn th·ªã t·∫°i ƒë√¢y</span
        >
      </div>
      <div id="editor"></div>
    </div>

    <script src="https://unpkg.com/masax-drawpdf@2.2.0/dist/drawpdf.standalone.umd.cjs"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>

    <script>
      let pdfInstance = null;
      let currentHtml = "";

      // Raw HTML fragments mapping to keys
      const fragments = {
        header: `
<table style="width:100%; border:none;">
  <tr>
    <td style="text-align:center; width:40%; vertical-align:top;">
      <strong>C√îNG TY ABC</strong><br>
      S·ªë: 01/BC-2026
      <hr style="width:30%; border-top:1px solid black;">
    </td>
    <td style="text-align:center; width:60%; vertical-align:top;">
      <strong>C·ªòNG H√íA X√É H·ªòI CH·ª¶ NGHƒ®A VI·ªÜT NAM</strong><br>
      <em>ƒê·ªôc l·∫≠p - T·ª± do - H·∫°nh ph√∫c</em>
      <hr style="width:20%; border-top:1px solid black;">
    </td>
  </tr>
</table>
<br>`,
        title: `
<div style="text-align:center; margin-bottom: 20px;">
    <h1 style="color:#2c3e50; font-size: 20pt; margin:10px 0;">B√ÅO C√ÅO DOANH THU</h1>
    <em>(Qu√Ω I nƒÉm 2026)</em>
</div>
<br>`,
        content: `
<h3>I. T√¨nh H√¨nh Chung</h3>
<p>Trong qu√Ω v·ª´a qua, c√¥ng ty ƒë√£ ƒë·∫°t ƒë∆∞·ª£c nhi·ªÅu th√†nh t·ª±u:</p>
<ul>
    <li>Doanh s·ªë tƒÉng tr∆∞·ªüng <strong>15%</strong>.</li>
    <li>M·ªü r·ªông th√™m <u>2 chi nh√°nh</u> m·ªõi.</li>
    <li>Tuy·ªÉn d·ª•ng th√™m 50 nh√¢n s·ª±.</li>
</ul>
<br>`,
        table: `
<h3>II. S·ªë Li·ªáu Chi Ti·∫øt</h3>
<table border="1" style="width:100%; border-collapse:collapse; text-align:center;">
    <tr style="background:#f2f2f2; font-weight:bold;">
        <td style="padding:5px;">Th√°ng</td><td style="padding:5px;">Doanh Thu ($)</td><td style="padding:5px;">Tr·∫°ng Th√°i</td>
    </tr>
    <tr>
        <td style="padding:5px;">01/2026</td><td style="padding:5px;">50,000</td><td style="padding:5px;">ƒê·∫°t</td>
    </tr>
    <tr>
        <td style="padding:5px;">02/2026</td><td style="padding:5px;">65,000</td><td style="padding:5px;">V∆∞·ª£t</td>
    </tr>
</table>`,
      };

      document.addEventListener("DOMContentLoaded", async function () {
        const DrawPDF = window.DrawPDF.default;
        try {
          pdfInstance = await DrawPDF.create("#editor");
          updateEditor();
        } catch (e) {
          console.error(e);
        }
      });

      function runStep(btn, key) {
        if (!fragments[key]) return;

        // Append content
        currentHtml += fragments[key];
        updateEditor();

        // UI Feedback
        if (btn) {
          btn.innerHTML = "‚úî APPLIED";
          btn.classList.add("done");
        }
      }

      function resetEditor() {
        currentHtml = "";
        updateEditor();

        // Reset buttons
        document.querySelectorAll(".run-btn").forEach((btn) => {
          btn.innerHTML = "‚ñ∂ RUN";
          btn.classList.remove("done");
        });
      }

      function updateEditor() {
        if (pdfInstance) {
          pdfInstance.setData({ sourceHtml: currentHtml });
        }
      }
    </script>
  </body>
</html>
